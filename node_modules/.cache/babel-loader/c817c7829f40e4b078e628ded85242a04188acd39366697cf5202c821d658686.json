{"ast":null,"code":"// src/use-why-update.ts\nimport { useEffect, useRef } from \"react\";\nfunction useWhyDidYouUpdate(name, props) {\n  const previousProps = useRef();\n  useEffect(() => {\n    if (previousProps.current) {\n      const allKeys = Object.keys({\n        ...previousProps.current,\n        ...props\n      });\n      const changesObj = {};\n      allKeys.forEach(key => {\n        if (previousProps.current[key] !== props[key]) {\n          changesObj[key] = {\n            from: previousProps.current[key],\n            to: props[key]\n          };\n        }\n      });\n      if (Object.keys(changesObj).length) {\n        console.log(\"[why-did-you-update]\", name, changesObj);\n      }\n    }\n    previousProps.current = props;\n  });\n}\nexport { useWhyDidYouUpdate };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}